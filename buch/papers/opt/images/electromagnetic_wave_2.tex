%
% electromagnetic_wave_2.tex -- Bild zum Thema Optische Fourier-Transformation <opt>
%
% (c) 2023 Marco Niederberger, Yanick Schoch; OST Ostschweizer Fachhochschule
%

% Inspiration: https://wiki.physik.uzh.ch/cms/latex:tikz:electromagnetic_wave
\documentclass[tikz]{standalone}
\usepackage{times}
\usepackage{txfonts}
\usepackage{tikz,tikz-3dplot}
\usepackage{pgfplots}
\usetikzlibrary{calc}
\usepackage{xcolor}

\pgfplotsset{compat=1.16}
\def\skala{1}

\input{opt_common.tex}
\input{electromagnetic_wave_common.tex}

\begin{document}
\tdplotsetmaincoords{70}{130}

\begin{tikzpicture}[>=latex, thick, scale=\skala, tdplot_main_coords]
    % Die Breite des generierte PDFs berechnet sich aus b = cos(130 - 90) * (5*pi/2*1.01*1.1 + 1.8) = 80.63mm

    % rectangle
    \def\xRectangle{4}
    \def\xRectangleWidth{0.6}
    \def\yRectangle{1.7}

    \fill[gray!30] (0,\xRectangle,\yRectangle) -- ++(0,\xRectangleWidth,0) -- ++(0,0,-2*\yRectangle) -- ++(0,-\xRectangleWidth,0);
    \draw[] (0,\xRectangle,\yRectangle) -- ++(0,\xRectangleWidth,0) node[below right]{$C=\partial A$}-- ++(0,0,-2*\yRectangle) -- ++(0,-\xRectangleWidth,0) -- (0,\xRectangle,\yRectangle);

    \draw[->] (0,\xRectangle,\yRectangle/2) -- ++(0,0,-0.1);
    \draw[->] (0,\xRectangle,-\yRectangle/2) -- ++(0,0,-0.1);
    \draw[->] (0,\xRectangle+\xRectangleWidth,\yRectangle/2) -- ++(0,0,0.1);
    \draw[->] (0,\xRectangle+\xRectangleWidth,-\yRectangle/2) -- ++(0,0,0.1);
    \draw[->] (0,\xRectangle+\xRectangleWidth/2,\yRectangle) -- ++(0,-0.1,0);
    \draw[->] (0,\xRectangle+\xRectangleWidth/2,-\yRectangle) -- ++(0,0.1,0);

    \draw[-, thin, dashed] (0,\xRectangle,\yRectangle) -- (0,-0.9,\yRectangle);
    \draw[-, thin, dashed] (0,\xRectangle,-\yRectangle) -- (0,-0.9,-\yRectangle);
    \draw[-, thin, dashed] (0,\xRectangle,\yRectangle) -- ++(0,0,0.5);
    \draw[-, thin, dashed] (0,\xRectangle+\xRectangleWidth,\yRectangle) -- ++(0,0,0.5);

    \draw[<->] (0,-0.8,\yRectangle) -- ++(0,0,-2*\yRectangle) node[anchor=south east, midway]{$\Delta x$};
    \draw[<->] (0,\xRectangle,\yRectangle+0.4) -- ++(0,\xRectangleWidth,0) node[anchor=south, midway]{$\Delta z$};

    \electromagneticWave
\end{tikzpicture}
\end{document}
