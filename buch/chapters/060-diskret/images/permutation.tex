%
% permutation.tex -- Visualisierung einer Permutation
%
% (c) 2021 Prof Dr Andreas MÃ¼ller, OST Ostschweizer Fachhochschule
%
\documentclass[tikz]{standalone}
\usepackage{amsmath}
\usepackage{times}
\usepackage{txfonts}
\usepackage{pgfplots}
\usepackage{csvsimple}
\usetikzlibrary{arrows,intersections,math}
\begin{document}
\def\skala{1}
\begin{tikzpicture}[>=latex,thick,scale=\skala]

\def\w{1}
\def\h{1.5}
\def\punkt#1#2{({(#1)*\w},{(#2)*\h})}
\def\knotenO#1#2{
	\node at \punkt{#1}{1} [above] {$#2\mathstrut$};
	\fill \punkt{#1}{1} circle[radius=0.05];
}
\def\knotenU#1#2{
	\node at \punkt{#1}{-1} [below] {$#2\mathstrut$};
	\fill \punkt{#1}{-1} circle[radius=0.05];
}
\def\pfeil#1#2{
	\draw[->]
		\punkt{#1+0.025*((#2-#1)*(\w/\h))}{0.95}
		--
		\punkt{#2-0.025*((#2-#1)*(\w/\h))}{-0.95};
}
\foreach \x in {0,4,8}{
	\fill[color=red!20]
		\punkt{\x-0.45}{1-0.2/\h} rectangle \punkt{\x+3.45}{1+0.5/\h};
}
\foreach \x in {0,3,6,9}{
	\fill[color=blue!20]
		\punkt{\x-0.45}{-1+0.2/\h} rectangle \punkt{\x+2.45}{-1-0.5/\h};
}
\knotenO{0}{(1,1)}
\knotenO{1}{(1,2)}
\knotenO{2}{(1,3)}
\knotenO{3}{(1,4)}
\knotenO{4}{(2,1)}
\knotenO{5}{(2,2)}
\knotenO{6}{(2,3)}
\knotenO{7}{(2,4)}
\knotenO{8}{(3,1)}
\knotenO{9}{(3,2)}
\knotenO{10}{(3,3)}
\knotenO{11}{(3,4)}
\knotenU{0}{(1,1)}
\knotenU{1}{(2,1)}
\knotenU{2}{(3,1)}
\knotenU{3}{(1,2)}
\knotenU{4}{(2,2)}
\knotenU{5}{(3,2)}
\knotenU{6}{(1,3)}
\knotenU{7}{(2,3)}
\knotenU{8}{(3,3)}
\knotenU{9}{(1,4)}
\knotenU{10}{(2,4)}
\knotenU{11}{(3,4)}
\pfeil{0}{0}
\pfeil{1}{3}
\pfeil{2}{6}
\pfeil{3}{9}
\pfeil{4}{1}
\pfeil{5}{4}
\pfeil{6}{7}
\pfeil{7}{10}
\pfeil{8}{2}
\pfeil{9}{5}
\pfeil{10}{8}
\pfeil{11}{11}

\end{tikzpicture}
\end{document}

