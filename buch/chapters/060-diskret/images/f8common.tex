%
% f8common.tex -- common stuff for the 
%
% (c) 2021 Prof Dr Andreas MÃ¼ller, OST Ostschweizer Fachhochschule
%
\def\w{4}
\def\h{0.8}
\def\t{0.3}
\def\s{0.3}
\def\punkt#1#2{({(#1)*\w},{-(#2)*\h})}
\def\nummer#1#2#3{
        \fill[color=white] ({(#3)*\w},{-(#1)*\h}) circle[radius=0.12];
        \draw ({(#3)*\w},{-(#1)*\h}) circle[radius=0.12];
        \node at ({(#3)*\w},{-(#1)*\h}) {$\scriptscriptstyle #2$};
}
\def\ffff#1#2#3#4#5{
	\fill[color=white]
		\punkt{#5+0.5-\s/\w}{0.25*(#1+#2+#3+#4)-\s/\h}
		rectangle
		\punkt{#5+0.5+\s/\w}{0.25*(#1+#2+#3+#4)+\s/\h};
	\draw
		\punkt{#5+0.5-\s/\w}{0.25*(#1+#2+#3+#4)-\s/\h}
		rectangle
		\punkt{#5+0.5+\s/\w}{0.25*(#1+#2+#3+#4)+\s/\h};
	\node at \punkt{#5+0.5}{0.25*(#1+#2+#3+#4)} {$\mathscr{F}_2$};
}
\def\spinne#1#2#3#4#5#6{
	\draw[<-,shorten <= #6]
		\punkt{#5}{#1} -- \punkt{#5+0.5}{0.25*(#1+#2+#3+#4)};
	\draw[<-,shorten <= #6]
		\punkt{#5}{#2} -- \punkt{#5+0.5}{0.25*(#1+#2+#3+#4)};
	\draw
		\punkt{#5+1}{#3} -- \punkt{#5+0.5}{0.25*(#1+#2+#3+#4)};
	\draw
		\punkt{#5+1}{#4} -- \punkt{#5+0.5}{0.25*(#1+#2+#3+#4)};
	\ffff{#1}{#2}{#3}{#4}{#5}
}
\def\knoten#1#2#3#4#5{
	\fill[color=gray!40]
		\punkt{\t*(#1)+(1-\t)*(#3)}{\t*(#2)+(1-\t)*(#4)}
		circle[radius=0.2];
	\draw
		\punkt{\t*(#1)+(1-\t)*(#3)}{\t*(#2)+(1-\t)*(#4)}
		circle[radius=0.2];
	\node[color=white] at \punkt{\t*(#1)+(1-\t)*(#3)}{\t*(#2)+(1-\t)*(#4)}
		{$\scriptstyle #5$};
}
\def\gitter#1#2{
	\foreach \x in {0,...,#1}{
		\draw \punkt{\x}{-0.2} -- \punkt{\x}{#2+0.2};
	}
	\node at \punkt{#1}{-0.2} [above] {$f$};
	\node at \punkt{0}{-0.2} [above] {$\hat{f}$};

	\foreach \y in {0,...,#2}{
		\foreach \x in {1,...,#1}{
			\fill \punkt{\x}{\y} circle[radius=0.05];
		}
		\foreach \x in {0,#1}{
			\nummer{\y}{\y}{\x}
			\fill[color=white] \punkt{\x}{\y} circle[radius=0.12];
			\draw \punkt{\x}{\y} circle[radius=0.12];
			\node at \punkt{\x}{\y} {$\scriptscriptstyle\y$};
		}
	}
}

