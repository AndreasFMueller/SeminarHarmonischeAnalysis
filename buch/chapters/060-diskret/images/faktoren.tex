%
% faktoren.tex -- Visualisierung der Faktorisierung
%
% (c) 2021 Prof Dr Andreas MÃ¼ller, OST Ostschweizer Fachhochschule
%
\documentclass[tikz]{standalone}
\usepackage{amsmath}
\usepackage{times}
\usepackage{txfonts}
\usepackage{pgfplots}
\usepackage{csvsimple}
\usetikzlibrary{arrows,intersections,math,calc}
\def\r{0.25}
\def\s{1.2}
\def\punkt#1#2{ ({(#1)*\s},{(#2)*\s}) }
\begin{document}
\def\skala{1}
\begin{tikzpicture}[>=latex,thick,scale=\skala]

\clip \punkt{-2.26}{-0.4} rectangle \punkt{6.4}{6.18};

\begin{scope}[xshift=-1.5cm]
\fill[color=gray!50,rounded corners=8pt]
	\punkt{0.3}{-0.4} rectangle \punkt{-1.0}{4.4};
\node[color=white] at \punkt{-0.4}{2} [rotate=90,scale=1.2] {$\mathbb{Z}/n\mathbb{Z}$};
\draw \punkt{0}{0} -- \punkt{0}{4} 
	to[out=90,in=90] ({-0.7*\s},{4*\s})
	-- ({-0.7*\s},0)
	to[out=-90,in=-90] (0,0);
\foreach \y in {0,...,4}{
	\fill[color=red!40] \punkt{0}{\y} circle[radius=\r];
	\node[color=white] at \punkt{0}{\y} {$\y\mathstrut$};
}
\end{scope}

\begin{scope}[yshift=6.2cm]
\fill[color=gray!50,rounded corners=8pt]
	\punkt{-0.4}{-0.3} rectangle \punkt{6.4}{1.0};
\node[color=white] at \punkt{3}{0.4} [scale=1.2] {$\mathbb{Z}/m\mathbb{Z}$};
\draw \punkt{0}{0} -- \punkt{6}{0}
	to[out=0,in=0] ({6*\s},{0.7*\s})
	-- \punkt{0}{0.7}
	to[out=180,in=180] (0,0);
\foreach \x in {0,...,6}{
	\fill[color=blue!40] \punkt{\x}{0} circle[radius=\r];
	\node[color=white] at \punkt{\x}{0} {$\x\mathstrut$};
}
\end{scope}

\begin{scope}
\fill[color=gray!50,rounded corners=8pt]
	\punkt{-0.4}{-0.4} rectangle \punkt{6.4}{4.4};
\draw \punkt{0}{0}
	-- \punkt{4}{4}
	to[out=45,in=-135] ({5*\s},{0*\s})
	-- \punkt{6}{1}
	to[out=45,in=-135] ({0*\s},{2*\s})
	-- \punkt{2}{4}
	to[out=45,in=-135] ({3*\s},{0*\s})
	-- \punkt{6}{3}
	to[out=45,in=-135] ({0*\s},{4*\s})
	to[out=45,in=-135] ({1*\s},{0*\s})
	-- \punkt{5}{4}
	to[out=45,in=-135] ({6*\s},{0*\s})
	to[out=45,in=-135] ({0*\s},{1*\s})
	-- \punkt{3}{4}
	to[out=45,in=-135] ({4*\s},{0*\s})
	-- \punkt{6}{2}
	to[out=45,in=-135] ({0*\s},{3*\s})
	-- \punkt{1}{4}
	to[out=45,in=-135] ({2*\s},{0*\s})
	-- \punkt{6}{4};
\draw \punkt{6}{4} to[out=45,in=90] ({6.3*\s},{4*\s}) -- \punkt{6.3}{0}
	to[out=-90,in=0] ({6*\s},{-0.3*\s})
	-- (0,{-0.3*\s})
	to[out=180,in=-135] ({0*\s},{0*\s})
;
\node[color=white] at \punkt{3}{1.45} [scale=2.0] {$\mathbb{Z}/nm\mathbb{Z}
\cong \mathbb{Z}/n\mathbb{Z}\oplus\mathbb{Z}/m\mathbb{Z}$};
\foreach \x in {0,...,6}{
	\foreach \y in {0,...,4}{
		\fill[color=violet!40] \punkt{\x}{\y} circle[radius=\r];
	}
}
\node[color=white] at \punkt{0}{0} {$0\mathstrut$};
\node[color=white] at \punkt{1}{1} {$1\mathstrut$};
\node[color=white] at \punkt{2}{2} {$2\mathstrut$};
\node[color=white] at \punkt{3}{3} {$3\mathstrut$};
\node[color=white] at \punkt{4}{4} {$4\mathstrut$};
\node[color=white] at \punkt{5}{0} {$5\mathstrut$};
\node[color=white] at \punkt{6}{1} {$6\mathstrut$};
\node[color=white] at \punkt{0}{2} {$7\mathstrut$};
\node[color=white] at \punkt{1}{3} {$8\mathstrut$};
\node[color=white] at \punkt{2}{4} {$9\mathstrut$};
\node[color=white] at \punkt{3}{0} {$10\mathstrut$};
\node[color=white] at \punkt{4}{1} {$11\mathstrut$};
\node[color=white] at \punkt{5}{2} {$12\mathstrut$};
\node[color=white] at \punkt{6}{3} {$13\mathstrut$};
\node[color=white] at \punkt{0}{4} {$14\mathstrut$};
\node[color=white] at \punkt{1}{0} {$15\mathstrut$};
\node[color=white] at \punkt{2}{1} {$16\mathstrut$};
\node[color=white] at \punkt{3}{2} {$17\mathstrut$};
\node[color=white] at \punkt{4}{3} {$18\mathstrut$};
\node[color=white] at \punkt{5}{4} {$19\mathstrut$};
\node[color=white] at \punkt{6}{0} {$20\mathstrut$};
\node[color=white] at \punkt{0}{1} {$21\mathstrut$};
\node[color=white] at \punkt{1}{2} {$22\mathstrut$};
\node[color=white] at \punkt{2}{3} {$23\mathstrut$};
\node[color=white] at \punkt{3}{4} {$24\mathstrut$};
\node[color=white] at \punkt{4}{0} {$25\mathstrut$};
\node[color=white] at \punkt{5}{1} {$26\mathstrut$};
\node[color=white] at \punkt{6}{2} {$27\mathstrut$};
\node[color=white] at \punkt{0}{3} {$28\mathstrut$};
\node[color=white] at \punkt{1}{4} {$29\mathstrut$};
\node[color=white] at \punkt{2}{0} {$30\mathstrut$};
\node[color=white] at \punkt{3}{1} {$31\mathstrut$};
\node[color=white] at \punkt{4}{2} {$32\mathstrut$};
\node[color=white] at \punkt{5}{3} {$33\mathstrut$};
\node[color=white] at \punkt{6}{4} {$34\mathstrut$};

%\fill[color=gray] \punkt{7}{-1} circle[radius=0.1];
\end{scope}

\end{tikzpicture}
\end{document}

